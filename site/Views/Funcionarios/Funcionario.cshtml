@model site.Models.DadosFormularioFuncionario

@{
    ViewBag.Title = "Dados de funcionário";
}

@if (Model.Novo) {
    using (Html.BeginForm("crianovofuncionario","Funcionarios")) {
         <div>
             <label for="nome">Nome:</label>
             <input type="text" id="nome" name="Nome"/>
         </div>
         <div>
             <label for="nif">Nif:</label>
             <input type="text" id="nif" name="nif"/>
         </div>
         <div>
             <label for="tipo">Tipo funcionário:</label>
             @Html.DropDownList("tipofuncionario", Model.TiposFuncionario.Select(tf => new SelectListItem {Text = tf.Descricao, Value = tf.Id.ToString()}))
         </div>
         <div>
             <button>Gravar</button>
         </div>
     }
}
else {
    using (Html.BeginForm("modificadadosgerais","Funcionarios")) {
        @Html.HiddenFor(m => m.Funcionario.Id, new{name = "Id"})
        @Html.HiddenFor(m => m.Funcionario.Versao, new{name = "Versao"})
        <div>
            <label for="nome">Nome:</label>
            @Html.TextBoxFor(m => m.Funcionario.Nome,new{name = "Nome"})
        </div>
        <div>
            <label for="nif">Nif:</label>
            @Html.TextBoxFor(m => m.Funcionario.Nif, new { name = "Nif" })
        </div>
        <div>
            <label for="tipo">Tipo funcionário:</label>
            @Html.DropDownList("tipofuncionario", Model.TiposFuncionario.Select(tf => new SelectListItem { Text = tf.Descricao, Value = tf.Id.ToString() }))
        </div>
        <div>
            <button>Gravar</button>
        </div>
    }
}